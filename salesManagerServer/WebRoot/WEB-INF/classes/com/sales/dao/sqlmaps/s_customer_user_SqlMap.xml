<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="s_customer_user" >
  <resultMap id="abatorgenerated_SCustomerUserResult" class="com.sales.model.SCustomerUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    <result column="customer_user_id" property="customerUserId" jdbcType="INTEGER" />
    <result column="customer_id" property="customerId" jdbcType="INTEGER" />
    <result column="user_id" property="userId" jdbcType="INTEGER" />
  </resultMap>
  
  <resultMap id="customerUserResult" class="com.sales.model.SCustomerUser" >
    <result column="customer_user_id" property="customerUserId" jdbcType="INTEGER" />
    <result column="customer_id" property="customerId" jdbcType="INTEGER" />
    <result column="user_id" property="userId" jdbcType="INTEGER" />
    <result column="customer_name" property="customerName" jdbcType="VARCHAR" />
    <result column="user_name" property="userName" jdbcType="VARCHAR" />
  </resultMap>
  <select id="abatorgenerated_selectByPrimaryKey" resultMap="abatorgenerated_SCustomerUserResult" parameterClass="com.sales.model.SCustomerUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    select cu.customer_user_id, cu.customer_id, cu.user_id
    from s_customer_user cu
    where customer_user_id = #customerUserId:INTEGER#
  </select>
  <delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="com.sales.model.SCustomerUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    delete from s_customer_user
    where customer_user_id = #customerUserId:INTEGER#
  </delete>
  <insert id="abatorgenerated_insert" parameterClass="com.sales.model.SCustomerUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    insert into s_customer_user (customer_user_id, customer_id, user_id)
    values (#customerUserId:INTEGER#, #customerId:INTEGER#, #userId:INTEGER#)
  </insert>
  <update id="abatorgenerated_updateByPrimaryKey" parameterClass="com.sales.model.SCustomerUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    update s_customer_user
    set customer_id = #customerId:INTEGER#,
      user_id = #userId:INTEGER#
    where customer_user_id = #customerUserId:INTEGER#
  </update>
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="com.sales.model.SCustomerUser" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    update s_customer_user
    <dynamic prepend="set" >
      <isNotNull prepend="," property="customerId" >
        customer_id = #customerId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="userId" >
        user_id = #userId:INTEGER#
      </isNotNull>
    </dynamic>
    where customer_user_id = #customerUserId:INTEGER#
  </update>
  
  <select id="getCustomerUserListByUserId" resultMap="abatorgenerated_SCustomerUserResult" parameterClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    select cu.customer_user_id, cu.customer_id, cu.user_id
    from s_customer_user cu
    where cu.user_id = #userId:INTEGER#
  </select>
  
  <select id="getCustomerUserListByCustomerId" resultMap="customerUserResult" parameterClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    select cu.customer_user_id, cu.customer_id, cu.user_id, c.FName as customer_name, u.user_name as user_name
    from s_customer_user cu
    left join t_customer c on cu.customer_Id = c.customer_id
    left join s_user u on cu.user_id = u.user_id
    where cu.customer_id = #customerId:INTEGER#
  </select>
  
  <select id="selectCustomerUserList" resultMap="customerUserResult" parameterClass="java.util.Map" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    select cu.customer_user_id, cu.customer_id, cu.user_id, c.FName as customer_name, u.user_name as user_name
    from s_customer_user cu
    left join t_customer c on cu.customer_Id = c.customer_id
    left join s_user u on cu.user_id = u.user_id
    <dynamic prepend="where">
			<isNotNull property="userId" prepend="and">
			    cu.user_id = #userId:INTEGER#
			</isNotNull>
			<isNotNull property="customerId" prepend="and">
			    cu.customer_id = #customerId:INTEGER#
			</isNotNull>
		</dynamic>
    limit #startRow#,#endRow#
  </select>
  
  <select id="getCustomerUserCount" resultClass="java.lang.Integer"  parameterClass="com.sales.model.SCustomerUser">
      select count(*) from s_customer_user
      <dynamic prepend="where">
			<isNotNull property="userId" prepend="and">
			    user_id = #userId:INTEGER#
			</isNotNull>
			<isNotNull property="customerId" prepend="and">
			    customer_id = #customerId:INTEGER#
			</isNotNull>
		</dynamic>
  </select>
  
  <delete id="deleteByCustomerId" parameterClass="java.util.Map" >
    delete from s_customer_user
    where customer_id = #customerId:INTEGER# and user_id = #userId:INTEGER#
  </delete>
</sqlMap>