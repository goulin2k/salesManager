<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="s_user_module" >
  <resultMap id="abatorgenerated_SModuleResult" class="com.sales.model.SModule" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    <result column="module_id" property="moduleId" jdbcType="INTEGER" />
    <result column="module_name_english" property="moduleNameEnglish" jdbcType="VARCHAR" />
    <result column="module_name_chinese" property="moduleNameChinese" jdbcType="VARCHAR" />
    <result column="enumeration_code" property="enumerationCode" jdbcType="VARCHAR" />
    <result column="user_id" property="userId" jdbcType="INTEGER" />
    <result column="user_module_id" property="userModuleId" jdbcType="INTEGER" />
    <result column="module_url" property="moduleUrl" jdbcType="VARCHAR" />
  </resultMap>
  <select id="s_user_module.getModuleListByUserId" resultMap="abatorgenerated_SModuleResult" parameterClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Apr 23 17:36:30 CST 2013.
    -->
    select m.module_id, m.module_name_english, m.module_name_chinese, m.enumeration_code,m.module_url,
    sm.user_module_id,sm.user_id
    from s_module m,s_user_module sm
    where user_id = #userId# and m.module_id = sm.module_id
  </select>
  
  <delete id="deleteModuleByUserId" parameterClass="java.lang.Integer" > 
    delete from s_user_module
    where user_id = #userId:INTEGER#
  </delete>
  
  <insert id="insertUserModule" parameterClass="java.util.Map" > 
    insert into s_user_module (user_id, module_id) values (#userId#, #moduleId#);
  </insert>

</sqlMap>