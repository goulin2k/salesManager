<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="t_customer" >
  <resultMap id="abatorgenerated_TCustomerResult" class="com.sales.model.TCustomer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    <result column="FLevel" property="flevel" jdbcType="INTEGER" />
    <result column="customer_id" property="customerId" jdbcType="INTEGER" />
    <result column="FName" property="fname" jdbcType="VARCHAR" />
    <result column="FNumber" property="fnumber" jdbcType="VARCHAR" />
    <result column="FParentID" property="fparentid" jdbcType="INTEGER" />
    <result column="FDeleted" property="fdeleted" jdbcType="BIT" />
    <result column="FDetail" property="fdetail" jdbcType="BIT" />
    <result column="FFullName" property="ffullname" jdbcType="VARCHAR" />
    <result column="FFullNumber" property="ffullnumber" jdbcType="VARCHAR" />
    <result column="FShortNumber" property="fshortnumber" jdbcType="VARCHAR" />
    <result column="FUnUsed" property="funused" jdbcType="BIT" />
    <result column="FShortName" property="fshortname" jdbcType="VARCHAR" />
    <result column="Faddress" property="faddress" jdbcType="VARCHAR" />
    <result column="regionName" property="regionname" jdbcType="VARCHAR" />
    <result column="tradeName" property="tradename" jdbcType="VARCHAR" />
    <result column="FContact" property="fcontact" jdbcType="VARCHAR" />
    <result column="FPhone" property="fphone" jdbcType="VARCHAR" />
    <result column="FMobilePhone" property="fmobilephone" jdbcType="VARCHAR" />
    <result column="FFax" property="ffax" jdbcType="VARCHAR" />
    <result column="FPostalCode" property="fpostalcode" jdbcType="VARCHAR" />
    <result column="FEmail" property="femail" jdbcType="VARCHAR" />
    <result column="FBank" property="fbank" jdbcType="VARCHAR" />
    <result column="FAccount" property="faccount" jdbcType="VARCHAR" />
    <result column="FTaxNum" property="ftaxnum" jdbcType="VARCHAR" />
    <result column="FIsCreditMgr" property="fiscreditmgr" jdbcType="BIT" />
    <result column="saleMode" property="salemode" jdbcType="VARCHAR" />
    <result column="FValueAddRate" property="fvalueaddrate" jdbcType="DECIMAL" />
    <result column="FCity" property="fcity" jdbcType="VARCHAR" />
    <result column="FProvince" property="fprovince" jdbcType="VARCHAR" />
    <result column="FCountry" property="fcountry" jdbcType="VARCHAR" />
    <result column="FHomePage" property="fhomepage" jdbcType="VARCHAR" />
    <result column="Fcorperate" property="fcorperate" jdbcType="VARCHAR" />
    <result column="FCarryingAOS" property="fcarryingaos" jdbcType="INTEGER" />
    <result column="customerType" property="customertype" jdbcType="VARCHAR" />
    <result column="SaleTypeName" property="saletypename" jdbcType="VARCHAR" />
    <result column="SupplierName" property="suppliername" jdbcType="VARCHAR" />
    <result column="currencyName" property="currencyname" jdbcType="VARCHAR" />
    <result column="settleName" property="settlename" jdbcType="VARCHAR" />
    <result column="FfavorPolicy" property="ffavorpolicy" jdbcType="VARCHAR" />
    <result column="departmentName" property="departmentname" jdbcType="VARCHAR" />
    <result column="employeeName" property="employeename" jdbcType="VARCHAR" />
    <result column="FlastTradeDate" property="flasttradedate" jdbcType="DATE" />
    <result column="FlastTradeAmount" property="flasttradeamount" jdbcType="REAL" />
    <result column="FlastReceiveDate" property="flastreceivedate" jdbcType="DATE" />
    <result column="FendTradeDate" property="fendtradedate" jdbcType="DATE" />
    <result column="FlastRPAmount" property="flastrpamount" jdbcType="REAL" />
    <result column="FmaxDealAmount" property="fmaxdealamount" jdbcType="REAL" />
    <result column="FminForeReceiveRate" property="fminforereceiverate" jdbcType="REAL" />
    <result column="FminReserverate" property="fminreserverate" jdbcType="REAL" />
    <result column="debtLevelName" property="debtlevelname" jdbcType="VARCHAR" />
    <result column="FPayCondition" property="payCondition" jdbcType="VARCHAR" />
    <result column="FPayConditionId" property="payConditionId" jdbcType="INTEGER" />
    <result column="linkman_completely" property="linkmanCompletely" jdbcType="DECIMAL"/>
  </resultMap>
  
  <resultMap id="customerResult" class="com.sales.model.TCustomer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    <result column="FLevel" property="flevel" jdbcType="INTEGER" />
    <result column="customer_id" property="customerId" jdbcType="INTEGER" />
    <result column="FName" property="fname" jdbcType="VARCHAR" />
    <result column="FNumber" property="fnumber" jdbcType="VARCHAR" />
    <result column="FParentID" property="fparentid" jdbcType="INTEGER" />
    <result column="FDeleted" property="fdeleted" jdbcType="BIT" />
    <result column="FDetail" property="fdetail" jdbcType="BIT" />
    <result column="FFullName" property="ffullname" jdbcType="VARCHAR" />
    <result column="FFullNumber" property="ffullnumber" jdbcType="VARCHAR" />
    <result column="FShortNumber" property="fshortnumber" jdbcType="VARCHAR" />
    <result column="FUnUsed" property="funused" jdbcType="BIT" />
    <result column="FShortName" property="fshortname" jdbcType="VARCHAR" />
    <result column="Faddress" property="faddress" jdbcType="VARCHAR" />
    <result column="regionName" property="regionname" jdbcType="VARCHAR" />
    <result column="tradeName" property="tradename" jdbcType="VARCHAR" />
    <result column="FContact" property="fcontact" jdbcType="VARCHAR" />
    <result column="FPhone" property="fphone" jdbcType="VARCHAR" />
    <result column="FMobilePhone" property="fmobilephone" jdbcType="VARCHAR" />
    <result column="FFax" property="ffax" jdbcType="VARCHAR" />
    <result column="FPostalCode" property="fpostalcode" jdbcType="VARCHAR" />
    <result column="FEmail" property="femail" jdbcType="VARCHAR" />
    <result column="FBank" property="fbank" jdbcType="VARCHAR" />
    <result column="FAccount" property="faccount" jdbcType="VARCHAR" />
    <result column="FTaxNum" property="ftaxnum" jdbcType="VARCHAR" />
    <result column="FIsCreditMgr" property="fiscreditmgr" jdbcType="BIT" />
    <result column="saleMode" property="salemode" jdbcType="VARCHAR" />
    <result column="FValueAddRate" property="fvalueaddrate" jdbcType="DECIMAL" />
    <result column="FCity" property="fcity" jdbcType="VARCHAR" />
    <result column="FProvince" property="fprovince" jdbcType="VARCHAR" />
    <result column="FCountry" property="fcountry" jdbcType="VARCHAR" />
    <result column="FHomePage" property="fhomepage" jdbcType="VARCHAR" />
    <result column="Fcorperate" property="fcorperate" jdbcType="VARCHAR" />
    <result column="FCarryingAOS" property="fcarryingaos" jdbcType="INTEGER" />
    <result column="customerType" property="customertype" jdbcType="VARCHAR" />
    <result column="SaleTypeName" property="saletypename" jdbcType="VARCHAR" />
    <result column="SupplierName" property="suppliername" jdbcType="VARCHAR" />
    <result column="currencyName" property="currencyname" jdbcType="VARCHAR" />
    <result column="settleName" property="settlename" jdbcType="VARCHAR" />
    <result column="FfavorPolicy" property="ffavorpolicy" jdbcType="VARCHAR" />
    <result column="departmentName" property="departmentname" jdbcType="VARCHAR" />
    <result column="employeeName" property="employeename" jdbcType="VARCHAR" />
    <result column="FlastTradeDate" property="flasttradedate" jdbcType="DATE" />
    <result column="FlastTradeAmount" property="flasttradeamount" jdbcType="REAL" />
    <result column="FlastReceiveDate" property="flastreceivedate" jdbcType="DATE" />
    <result column="FendTradeDate" property="fendtradedate" jdbcType="DATE" />
    <result column="FlastRPAmount" property="flastrpamount" jdbcType="REAL" />
    <result column="FmaxDealAmount" property="fmaxdealamount" jdbcType="REAL" />
    <result column="FminForeReceiveRate" property="fminforereceiverate" jdbcType="REAL" />
    <result column="FminReserverate" property="fminreserverate" jdbcType="REAL" />
    <result column="debtLevelName" property="debtlevelname" jdbcType="VARCHAR" />
    <result column="couserName" property="couserName" jdbcType="VARCHAR" />
    <result column="cuserName" property="cuserName" jdbcType="VARCHAR" />
    <result column="cLevelId" property="cLevelId" jdbcType="INTEGER" />
    <result column="FPayCondition" property="payCondition" jdbcType="VARCHAR" />
    <result column="FPayConditionId" property="payConditionId" jdbcType="INTEGER" />
    <result column="linkman_completely" property="linkmanCompletely" jdbcType="DECIMAL"/>
  </resultMap>
  
  <resultMap id="openCustomerResult" class="com.sales.model.TCustomer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    <result column="FLevel" property="flevel" jdbcType="INTEGER" />
    <result column="customer_id" property="customerId" jdbcType="INTEGER" />
    <result column="FName" property="fname" jdbcType="VARCHAR" />
    <result column="FNumber" property="fnumber" jdbcType="VARCHAR" />
    <result column="FParentID" property="fparentid" jdbcType="INTEGER" />
    <result column="FDeleted" property="fdeleted" jdbcType="BIT" />
    <result column="FDetail" property="fdetail" jdbcType="BIT" />
    <result column="FFullName" property="ffullname" jdbcType="VARCHAR" />
    <result column="FFullNumber" property="ffullnumber" jdbcType="VARCHAR" />
    <result column="FShortNumber" property="fshortnumber" jdbcType="VARCHAR" />
    <result column="FUnUsed" property="funused" jdbcType="BIT" />
    <result column="FShortName" property="fshortname" jdbcType="VARCHAR" />
    <result column="Faddress" property="faddress" jdbcType="VARCHAR" />
    <result column="regionName" property="regionname" jdbcType="VARCHAR" />
    <result column="tradeName" property="tradename" jdbcType="VARCHAR" />
    <result column="FContact" property="fcontact" jdbcType="VARCHAR" />
    <result column="FPhone" property="fphone" jdbcType="VARCHAR" />
    <result column="FMobilePhone" property="fmobilephone" jdbcType="VARCHAR" />
    <result column="FFax" property="ffax" jdbcType="VARCHAR" />
    <result column="FPostalCode" property="fpostalcode" jdbcType="VARCHAR" />
    <result column="FEmail" property="femail" jdbcType="VARCHAR" />
    <result column="FBank" property="fbank" jdbcType="VARCHAR" />
    <result column="FAccount" property="faccount" jdbcType="VARCHAR" />
    <result column="FTaxNum" property="ftaxnum" jdbcType="VARCHAR" />
    <result column="FIsCreditMgr" property="fiscreditmgr" jdbcType="BIT" />
    <result column="saleMode" property="salemode" jdbcType="VARCHAR" />
    <result column="FValueAddRate" property="fvalueaddrate" jdbcType="DECIMAL" />
    <result column="FCity" property="fcity" jdbcType="VARCHAR" />
    <result column="FProvince" property="fprovince" jdbcType="VARCHAR" />
    <result column="FCountry" property="fcountry" jdbcType="VARCHAR" />
    <result column="FHomePage" property="fhomepage" jdbcType="VARCHAR" />
    <result column="Fcorperate" property="fcorperate" jdbcType="VARCHAR" />
    <result column="FCarryingAOS" property="fcarryingaos" jdbcType="INTEGER" />
    <result column="customerType" property="customertype" jdbcType="VARCHAR" />
    <result column="SaleTypeName" property="saletypename" jdbcType="VARCHAR" />
    <result column="SupplierName" property="suppliername" jdbcType="VARCHAR" />
    <result column="currencyName" property="currencyname" jdbcType="VARCHAR" />
    <result column="settleName" property="settlename" jdbcType="VARCHAR" />
    <result column="FfavorPolicy" property="ffavorpolicy" jdbcType="VARCHAR" />
    <result column="departmentName" property="departmentname" jdbcType="VARCHAR" />
    <result column="employeeName" property="employeename" jdbcType="VARCHAR" />
    <result column="FlastTradeDate" property="flasttradedate" jdbcType="DATE" />
    <result column="FlastTradeAmount" property="flasttradeamount" jdbcType="REAL" />
    <result column="FlastReceiveDate" property="flastreceivedate" jdbcType="DATE" />
    <result column="FendTradeDate" property="fendtradedate" jdbcType="DATE" />
    <result column="FlastRPAmount" property="flastrpamount" jdbcType="REAL" />
    <result column="FmaxDealAmount" property="fmaxdealamount" jdbcType="REAL" />
    <result column="FminForeReceiveRate" property="fminforereceiverate" jdbcType="REAL" />
    <result column="FminReserverate" property="fminreserverate" jdbcType="REAL" />
    <result column="debtLevelName" property="debtlevelname" jdbcType="VARCHAR" /> 
    <result column="salegenId" property="salegenId" jdbcType="INTEGER" />
    <result column="salegenName" property="salegenName" jdbcType="VARCHAR" /> 
    <result column="ownerUserId" property="ownerUserId" jdbcType="INTEGER" />
    <result column="ownerUserName" property="ownerUserName" jdbcType="VARCHAR" /> 
    <result column="finmanagerId" property="finmanagerId" jdbcType="INTEGER" />
    <result column="finmanagerName" property="finmanagerName" jdbcType="VARCHAR" /> 
    <result column="FPayCondition" property="payCondition" jdbcType="VARCHAR" />
    <result column="FPayConditionId" property="payConditionId" jdbcType="INTEGER" />
    
  </resultMap>
  <select id="abatorgenerated_selectByPrimaryKey" resultMap="abatorgenerated_TCustomerResult" parameterClass="com.sales.model.TCustomer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    select FLevel, customer_id, FName, FNumber, FParentID, FDeleted, FDetail, FFullName,
      FFullNumber, FShortNumber, FUnUsed, FShortName, Faddress, regionName, tradeName, FContact,
      FPhone, FMobilePhone, FFax, FPostalCode, FEmail, FBank, FAccount, FTaxNum, FIsCreditMgr,
      saleMode, FValueAddRate, FCity, FProvince, FCountry, FHomePage, Fcorperate, FCarryingAOS,
      customerType, SaleTypeName, SupplierName, currencyName, settleName, FfavorPolicy,
      departmentName, employeeName, FlastTradeDate, FlastTradeAmount, FlastReceiveDate,
      FendTradeDate, FlastRPAmount, FmaxDealAmount, FminForeReceiveRate, FminReserverate,
      debtLevelName, FPayCondition, FPayConditionId, linkman_completely
    from t_customer
    where FLevel = #flevel:INTEGER#
      and customer_id = #customerId:INTEGER#
  </select>
  <delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="com.sales.model.TCustomer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    delete from t_customer
    where FLevel = #flevel:INTEGER#
      and customer_id = #customerId:INTEGER#
  </delete>
  
  <insert id="abatorgenerated_insert" parameterClass="com.sales.model.TCustomer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    insert into t_customer (FLevel, customer_id, FName, FNumber, FParentID, FDeleted, FDetail,
      FFullName, FFullNumber, FShortNumber, FUnUsed, FShortName, Faddress, regionName, tradeName,
      FContact, FPhone, FMobilePhone, FFax, FPostalCode, FEmail, FBank, FAccount, FTaxNum,
      FIsCreditMgr, saleMode, FValueAddRate, FCity, FProvince, FCountry, FHomePage, Fcorperate,
      FCarryingAOS, customerType, SaleTypeName, SupplierName, currencyName, settleName,
      FfavorPolicy, departmentName, employeeName, FlastTradeDate, FlastTradeAmount,
      FlastReceiveDate, FendTradeDate, FlastRPAmount, FmaxDealAmount, FminForeReceiveRate,
      FminReserverate, debtLevelName, FPayCondition, FPayConditionId)
    values (#flevel:INTEGER#, #customerId:INTEGER#, #fname:VARCHAR#, #fnumber:VARCHAR#,
      #fparentid:INTEGER#, #fdeleted:BIT#, #fdetail:BIT#, #ffullname:VARCHAR#,
      #ffullnumber:VARCHAR#, #fshortnumber:VARCHAR#, #funused:BIT#, #fshortname:VARCHAR#,
      #faddress:VARCHAR#, #regionname:VARCHAR#, #tradename:VARCHAR#, #fcontact:VARCHAR#,
      #fphone:VARCHAR#, #fmobilephone:VARCHAR#, #ffax:VARCHAR#, #fpostalcode:VARCHAR#,
      #femail:VARCHAR#, #fbank:VARCHAR#, #faccount:VARCHAR#, #ftaxnum:VARCHAR#, #fiscreditmgr:BIT#,
      #salemode:VARCHAR#, #fvalueaddrate:DECIMAL#, #fcity:VARCHAR#, #fprovince:VARCHAR#,
      #fcountry:VARCHAR#, #fhomepage:VARCHAR#, #fcorperate:VARCHAR#, #fcarryingaos:INTEGER#,
      #customertype:VARCHAR#, #saletypename:VARCHAR#, #suppliername:VARCHAR#,
      #currencyname:VARCHAR#, #settlename:VARCHAR#, #ffavorpolicy:VARCHAR#,
      #departmentname:VARCHAR#, #employeename:VARCHAR#, #flasttradedate:TIMESTAMP#,
      #flasttradeamount:REAL#, #flastreceivedate:TIMESTAMP#, #fendtradedate:TIMESTAMP#,
      #flastrpamount:REAL#, #fmaxdealamount:REAL#, #fminforereceiverate:REAL#,
      #fminreserverate:REAL#, #debtlevelname:VARCHAR#, #payCondition:VARCHAR#,#payConditionId:INTEGER# )
  </insert>
  <update id="abatorgenerated_updateByPrimaryKey" parameterClass="com.sales.model.TCustomer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    update t_customer
    set FName = #fname:VARCHAR#,
      FNumber = #fnumber:VARCHAR#,
      FParentID = #fparentid:INTEGER#,
      FDeleted = #fdeleted:BIT#,
      FDetail = #fdetail:BIT#,
      FFullName = #ffullname:VARCHAR#,
      FFullNumber = #ffullnumber:VARCHAR#,
      FShortNumber = #fshortnumber:VARCHAR#,
      FUnUsed = #funused:BIT#,
      FShortName = #fshortname:VARCHAR#,
      Faddress = #faddress:VARCHAR#,
      regionName = #regionname:VARCHAR#,
      tradeName = #tradename:VARCHAR#,
      FContact = #fcontact:VARCHAR#,
      FPhone = #fphone:VARCHAR#,
      FMobilePhone = #fmobilephone:VARCHAR#,
      FFax = #ffax:VARCHAR#,
      FPostalCode = #fpostalcode:VARCHAR#,
      FEmail = #femail:VARCHAR#,
      FBank = #fbank:VARCHAR#,
      FAccount = #faccount:VARCHAR#,
      FTaxNum = #ftaxnum:VARCHAR#,
      FIsCreditMgr = #fiscreditmgr:BIT#,
      saleMode = #salemode:VARCHAR#,
      FValueAddRate = #fvalueaddrate:DECIMAL#,
      FCity = #fcity:VARCHAR#,
      FProvince = #fprovince:VARCHAR#,
      FCountry = #fcountry:VARCHAR#,
      FHomePage = #fhomepage:VARCHAR#,
      Fcorperate = #fcorperate:VARCHAR#,
      FCarryingAOS = #fcarryingaos:INTEGER#,
      customerType = #customertype:VARCHAR#,
      SaleTypeName = #saletypename:VARCHAR#,
      SupplierName = #suppliername:VARCHAR#,
      currencyName = #currencyname:VARCHAR#,
      settleName = #settlename:VARCHAR#,
      FfavorPolicy = #ffavorpolicy:VARCHAR#,
      departmentName = #departmentname:VARCHAR#,
      employeeName = #employeename:VARCHAR#,
      FlastTradeDate = #flasttradedate:TIMESTAMP#,
      FlastTradeAmount = #flasttradeamount:REAL#,
      FlastReceiveDate = #flastreceivedate:TIMESTAMP#,
      FendTradeDate = #fendtradedate:DATE#,
      FlastRPAmount = #flastrpamount:REAL#,
      FmaxDealAmount = #fmaxdealamount:REAL#,
      FminForeReceiveRate = #fminforereceiverate:REAL#,
      FminReserverate = #fminreserverate:REAL#,
      debtLevelName = #debtlevelname:VARCHAR#,
      FPayCondition = #payCondition:VARCHAR#,
      FPayConditionId = #payConditionId:INTEGER#
    where FLevel = #flevel:INTEGER#
      and customer_id = #customerId:INTEGER#
  </update>
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="com.sales.model.TCustomer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    update t_customer
    <dynamic prepend="set" >
      <isNotNull prepend="," property="fname" >
        FName = #fname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fnumber" >
        FNumber = #fnumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fparentid" >
        FParentID = #fparentid:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="fdeleted" >
        FDeleted = #fdeleted:BIT#
      </isNotNull>
      <isNotNull prepend="," property="fdetail" >
        FDetail = #fdetail:BIT#
      </isNotNull>
      <isNotNull prepend="," property="ffullname" >
        FFullName = #ffullname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ffullnumber" >
        FFullNumber = #ffullnumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fshortnumber" >
        FShortNumber = #fshortnumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="funused" >
        FUnUsed = #funused:BIT#
      </isNotNull>
      <isNotNull prepend="," property="fshortname" >
        FShortName = #fshortname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="faddress" >
        Faddress = #faddress:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="regionname" >
        regionName = #regionname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="tradename" >
        tradeName = #tradename:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fcontact" >
        FContact = #fcontact:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fphone" >
        FPhone = #fphone:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fmobilephone" >
        FMobilePhone = #fmobilephone:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ffax" >
        FFax = #ffax:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fpostalcode" >
        FPostalCode = #fpostalcode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="femail" >
        FEmail = #femail:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fbank" >
        FBank = #fbank:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="faccount" >
        FAccount = #faccount:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ftaxnum" >
        FTaxNum = #ftaxnum:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fiscreditmgr" >
        FIsCreditMgr = #fiscreditmgr:BIT#
      </isNotNull>
      <isNotNull prepend="," property="salemode" >
        saleMode = #salemode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fvalueaddrate" >
        FValueAddRate = #fvalueaddrate:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="fcity" >
        FCity = #fcity:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fprovince" >
        FProvince = #fprovince:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fcountry" >
        FCountry = #fcountry:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fhomepage" >
        FHomePage = #fhomepage:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fcorperate" >
        Fcorperate = #fcorperate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fcarryingaos" >
        FCarryingAOS = #fcarryingaos:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="customertype" >
        customerType = #customertype:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="saletypename" >
        SaleTypeName = #saletypename:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="suppliername" >
        SupplierName = #suppliername:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="currencyname" >
        currencyName = #currencyname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="settlename" >
        settleName = #settlename:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ffavorpolicy" >
        FfavorPolicy = #ffavorpolicy:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="departmentname" >
        departmentName = #departmentname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="employeename" >
        employeeName = #employeename:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="flasttradedate" >
        FlastTradeDate = #flasttradedate:DATE#
      </isNotNull>
      <isNotNull prepend="," property="flasttradeamount" >
        FlastTradeAmount = #flasttradeamount:REAL#
      </isNotNull>
      <isNotNull prepend="," property="flastreceivedate" >
        FlastReceiveDate = #flastreceivedate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="fendtradedate" >
        FendTradeDate = #fendtradedate:DATE#
      </isNotNull>
      <isNotNull prepend="," property="flastrpamount" >
        FlastRPAmount = #flastrpamount:REAL#
      </isNotNull>
      <isNotNull prepend="," property="fmaxdealamount" >
        FmaxDealAmount = #fmaxdealamount:REAL#
      </isNotNull>
      <isNotNull prepend="," property="fminforereceiverate" >
        FminForeReceiveRate = #fminforereceiverate:REAL#
      </isNotNull>
      <isNotNull prepend="," property="fminreserverate" >
        FminReserverate = #fminreserverate:REAL#
      </isNotNull>
      <isNotNull prepend="," property="debtlevelname" >
        debtLevelName = #debtlevelname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="payCondition" >
      	FPayCondition = #payCondition:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="payConditionId" >
      	FPayConditionId = #payConditionId:INTEGER#
      </isNotNull>
    </dynamic>
    where FLevel = #flevel:INTEGER#
      and customer_id = #customerId:INTEGER#
  </update>
  
    <select id="getCustomerList" resultMap="abatorgenerated_TCustomerResult" parameterClass="java.util.Map" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    select FLevel, customer_id, FName, FNumber, FParentID, FDeleted, FDetail, FFullName,
      FFullNumber, FShortNumber, FUnUsed, FShortName, Faddress, regionName, tradeName, FContact,
      FPhone, FMobilePhone, FFax, FPostalCode, FEmail, FBank, FAccount, FTaxNum, FIsCreditMgr,
      saleMode, FValueAddRate, FCity, FProvince, FCountry, FHomePage, Fcorperate, FCarryingAOS,
      customerType, SaleTypeName, SupplierName, currencyName, settleName, FfavorPolicy,
      departmentName, employeeName, FlastTradeDate, FlastTradeAmount, FlastReceiveDate,
      FendTradeDate, FlastRPAmount, FmaxDealAmount, FminForeReceiveRate, FminReserverate,
      debtLevelName, FPayCondition,FPayConditionId, linkman_completely
    from t_customer
    limit #startRow#,#endRow#
  </select>
  
  <select id="getCustomerCount" resultClass="java.lang.Integer"  parameterClass="java.util.Map">
      select count(*) from t_customer 
  </select>
  
  <select id="getCustomerCountByObj" resultClass="java.lang.Integer"  parameterClass="com.sales.model.TCustomer">
      select count(*) 
      from t_customer c
    <dynamic prepend="where">
    <isNotNull property="fname" prepend="and">
	    c.FFullName like '%$fname$%'
	</isNotNull>
	<isNotNull property="fnumber" prepend="and">
	    c.FNumber like '%$fnumber$%'
	</isNotNull>
	<isNotNull property="couserName" prepend="and">
	    c.customer_id in (select cou.customer_id from s_customer_owner_user cou inner join s_user su on cou.user_id = su.user_id
	    	where su.user_name like '%$couserName$%')
	</isNotNull>
	<isNotNull property="cuserName" prepend="and">
	    c.customer_id in (select cu.customer_id from s_customer_user cu inner join s_user su on cu.user_id = su.user_id
	    	where su.user_name like '%$cuserName$%')
	</isNotNull>
	<isNotNull property="customerLevel" prepend="and">
	   c.customer_id in (SELECT cl.customer_id from s_customer_level cl where cl.level_id = #customerLevel:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinSalemagagerId" prepend="and">
	   c.customer_id in (select sm.customer_id from s_customer_fin_evaluation sm where sm.eva_salemanager = #evaFinSalemagagerId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinManagerId" prepend="and">
	   c.customer_id in (select fm.customer_id from s_customer_fin_evaluation fm where fm.eva_finmanager = #evaFinManagerId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinGenId" prepend="and">
	   c.customer_id in (select fg.customer_id from s_customer_fin_evaluation fg where fg.eva_salegen = #evaFinGenId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinSalemagagerMark" prepend="and">
	   c.customer_id  not in (select cfe.customer_id from s_customer_fin_evaluation cfe where cfe.eva_salemanager is not null)
	</isNotNull>
	<isNotNull property="evaFinManagerMark" prepend="and">
	   c.customer_id  not in (select sfm.customer_id from s_customer_fin_evaluation sfm where sfm.eva_finmanager is not null)
	</isNotNull>
	<isNotNull property="evaFinGenMark" prepend="and">
	   c.customer_id  not in (select sfg.customer_id from s_customer_fin_evaluation sfg where sfg.eva_salegen is not null)
	</isNotNull>
	<isNotNull property="customerLevelMark" prepend="and">
	   c.customer_id  not in (select scl.customer_id from s_customer_level scl where scl.level_id is not null)
	</isNotNull>
	<isEqual prepend="AND" property="linkmanWriteStatus" compareValue="0"> 
       c.customer_id  not in (SELECT customer_id FROM s_customer_linkman) 
      </isEqual> 
	<isEqual prepend="AND" property="linkmanWriteStatus" compareValue="1"> 
	   c.customer_id  in (SELECT customer_id FROM s_customer_linkman)
	</isEqual>
	</dynamic>
  </select>
  
  <select id="getCustomerInfoById" resultMap="abatorgenerated_TCustomerResult" parameterClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    select FLevel, customer_id, FName, FNumber, FParentID, FDeleted, FDetail, FFullName,
      FFullNumber, FShortNumber, FUnUsed, FShortName, Faddress, regionName, tradeName, FContact,
      FPhone, FMobilePhone, FFax, FPostalCode, FEmail, FBank, FAccount, FTaxNum, FIsCreditMgr,
      saleMode, FValueAddRate, FCity, FProvince, FCountry, FHomePage, Fcorperate, FCarryingAOS,
      customerType, SaleTypeName, SupplierName, currencyName, settleName, FfavorPolicy,
      departmentName, employeeName, FlastTradeDate, FlastTradeAmount, FlastReceiveDate,
      FendTradeDate, FlastRPAmount, FmaxDealAmount, FminForeReceiveRate, FminReserverate,
      debtLevelName, FPayCondition, FPayConditionId,linkman_completely
    from t_customer
      where customer_id = #customerId:INTEGER#
  </select>
  
  <select id="selectCustomerList" resultMap="abatorgenerated_TCustomerResult" parameterClass="java.util.Map" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Jun 14 14:24:14 CST 2013.
    -->
    select c.FLevel, c.customer_id, c.FName, c.FNumber, c.FParentID, c.FDeleted, c.FDetail, c.FFullName,
      c.FFullNumber, c.FShortNumber, c.FUnUsed, c.FShortName, c.Faddress, c.regionName, c.tradeName, c.FContact,
      c.FPhone, c.FMobilePhone, c.FFax, c.FPostalCode, c.FEmail, c.FBank, c.FAccount, c.FTaxNum, c.FIsCreditMgr,
      c.saleMode, c.FValueAddRate, c.FCity, c.FProvince, c.FCountry, c.FHomePage, c.Fcorperate, c.FCarryingAOS,
      c.customerType, c.SaleTypeName, c.SupplierName, c.currencyName, c.settleName, c.FfavorPolicy,
      c.departmentName, c.employeeName, c.FlastTradeDate, c.FlastTradeAmount, c.FlastReceiveDate,
      c.FendTradeDate, c.FlastRPAmount, c.FmaxDealAmount, c.FminForeReceiveRate, c.FminReserverate,
      c.debtLevelName, FPayCondition, FPayConditionId,linkman_completely
    from t_customer c
    <dynamic prepend="where">
    <isNotNull property="fname" prepend="and">
	    c.FFullName like '%$fname$%'
	</isNotNull>
	<isNotNull property="fnumber" prepend="and">
	    c.FNumber like '%$fnumber$%'
	</isNotNull>
	<isNotNull property="couserName" prepend="and">
	    c.customer_id in (select cou.customer_id from s_customer_owner_user cou inner join s_user su on cou.user_id = su.user_id
	    	where su.user_name like '%$couserName$%')
	</isNotNull>
	<isNotNull property="cuserName" prepend="and">
	    c.customer_id in (select cu.customer_id from s_customer_user cu inner join s_user su on cu.user_id = su.user_id
	    	where su.user_name like '%$cuserName$%')
	</isNotNull>
	<isNotNull property="customerLevel" prepend="and">
	   c.customer_id in (SELECT cl.customer_id from s_customer_level cl where cl.level_id = #customerLevel:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinSalemagagerId" prepend="and">
	   c.customer_id in (select sm.customer_id from s_customer_fin_evaluation sm where sm.eva_salemanager = #evaFinSalemagagerId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinManagerId" prepend="and">
	   c.customer_id in (select fm.customer_id from s_customer_fin_evaluation fm where fm.eva_finmanager = #evaFinManagerId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinGenId" prepend="and">
	   c.customer_id in (select fg.customer_id from s_customer_fin_evaluation fg where fg.eva_salegen = #evaFinGenId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinSalemagagerMark" prepend="and">
	   c.customer_id  not in (select cfe.customer_id from s_customer_fin_evaluation cfe where cfe.eva_salemanager is not null)
	</isNotNull>
	<isNotNull property="evaFinManagerMark" prepend="and">
	   c.customer_id  not in (select sfm.customer_id from s_customer_fin_evaluation sfm where sfm.eva_finmanager is not null)
	</isNotNull>
	<isNotNull property="evaFinGenMark" prepend="and">
	   c.customer_id  not in (select sfg.customer_id from s_customer_fin_evaluation sfg where sfg.eva_salegen is not null)
	</isNotNull>
	<isNotNull property="customerLevelMark" prepend="and">
	   c.customer_id  not in (select scl.customer_id from s_customer_level scl where scl.level_id is not null)
	</isNotNull>
	
	<isEqual prepend="AND" property="linkmanWriteStatus" compareValue="0"> 
       c.customer_id  not in (SELECT customer_id FROM s_customer_linkman) 
      </isEqual> 
	<isEqual prepend="AND" property="linkmanWriteStatus" compareValue="1"> 
	   c.customer_id  in (SELECT customer_id FROM s_customer_linkman)
	</isEqual>
	</dynamic>
    limit #startRow#,#endRow#
  </select>
  
  <select id="getOpenCustomerList" resultMap="openCustomerResult" parameterClass="java.util.Map" > 
    select c.FLevel, c.customer_id, c.FName, c.FNumber, c.FParentID, c.FDeleted, c.FDetail, c.FFullName,
      c.FFullNumber, c.FShortNumber, c.FUnUsed, c.FShortName, c.Faddress, c.regionName, c.tradeName, c.FContact,
      c.FPhone, c.FMobilePhone, c.FFax, c.FPostalCode, c.FEmail, c.FBank, c.FAccount, c.FTaxNum, c.FIsCreditMgr,
      saleMode, FValueAddRate, FCity, FProvince, FCountry, FHomePage, Fcorperate, FCarryingAOS,
      c.customerType, c.SaleTypeName, c.SupplierName, c.currencyName, c.settleName, c.FfavorPolicy,
      c.departmentName, c.employeeName, c.FlastTradeDate, c.FlastTradeAmount, c.FlastReceiveDate,
      c.FendTradeDate, c.FlastRPAmount, c.FmaxDealAmount, c.FminForeReceiveRate, c.FminReserverate,
      c.debtLevelName, ou.user_name as ownerUserName, su.user_name as salegenName, mu.user_name as finmanagerName,
      cou.user_id as ownerUserId, cou.salegen_id as salegenId, cou.finmanager_id as finmanagerId, 
      cou.customer_owner_user_id as customerWonerUserId, FPayCondition, FPayConditionId
    from t_customer c 
    left join s_customer_owner_user cou on c.customer_id = cou.customer_id and cou.over_time is null
    left join s_user ou on cou.user_id = ou.user_id
	left join s_user su on cou.salegen_id = su.user_id
	left join s_user mu on cou.finmanager_id = mu.user_id
    <dynamic prepend="where">
	    <isNotNull property="fname" prepend="and">
		    c.FFullName like '%$fname$%'
		</isNotNull>
		<isNotNull property="fnumber" prepend="and">
		    c.FNumber like '%$fnumber$%'
		</isNotNull>
		<isNotNull property="customerIds" prepend="and">
		    c.customer_id in $customerIds$
		</isNotNull>
	</dynamic>
	group by c.customer_id
    limit #startRow#, #endRow#
  </select>
  
  <select id="getOpenCustomerCount" resultClass="java.lang.Integer"  parameterClass="java.util.Map">
      select count(*) from t_customer 
      <dynamic prepend="where">
		<isNotNull property="fname" prepend="and">
		    FFullName like '%$fname$%'
		</isNotNull>
		<isNotNull property="fnumber" prepend="and">
		    FNumber like '%$fnumber$%'
		</isNotNull>
		<isNotNull property="customerIds" prepend="and">
		    customer_id in $customerIds$
		</isNotNull>
	  </dynamic>
  </select>
  
  <select id="getOpenDistributionCustomerList" resultMap="openCustomerResult" parameterClass="java.util.Map" > 
    select c.FLevel, c.customer_id, c.FName, c.FNumber, c.FParentID, c.FDeleted, c.FDetail, c.FFullName,
      c.FFullNumber, c.FShortNumber, c.FUnUsed, c.FShortName, c.Faddress, c.regionName, c.tradeName, c.FContact,
      c.FPhone, c.FMobilePhone, c.FFax, c.FPostalCode, c.FEmail, c.FBank, c.FAccount, c.FTaxNum, c.FIsCreditMgr,
      saleMode, FValueAddRate, FCity, FProvince, FCountry, FHomePage, Fcorperate, FCarryingAOS,
      c.customerType, c.SaleTypeName, c.SupplierName, c.currencyName, c.settleName, c.FfavorPolicy,
      c.departmentName, c.employeeName, c.FlastTradeDate, c.FlastTradeAmount, c.FlastReceiveDate,
      c.FendTradeDate, c.FlastRPAmount, c.FmaxDealAmount, c.FminForeReceiveRate, c.FminReserverate, c.debtLevelName,
      ou.user_name as ownerUserName, su.user_name as salegenName, mu.user_name as finmanagerName, FPayCondition,FPayConditionId,
      cou.user_id as ownerUserId, cou.salegen_id as salegenId, cou.finmanager_id as finmanagerId, cou.customer_owner_user_id as customerWonerUserId
    from t_customer c 
    	left join s_customer_owner_user cou on c.customer_id = cou.customer_id and cou.over_time is null
	    left join s_user ou on cou.user_id = ou.user_id
		left join s_user su on cou.salegen_id = su.user_id
		left join s_user mu on cou.finmanager_id = mu.user_id
    where c.customer_id in (
    	select distinct s.customer_id from s_customer_owner_user s)
    <isNotNull property="fname" prepend="and">
	    c.FFullName like '%$fname$%'
	</isNotNull>
	<isNotNull property="fnumber" prepend="and">
	    c.FNumber like '%$fnumber$%'
	</isNotNull>
	<isNotNull property="customerIds" prepend="and">
	    c.customer_id in $customerIds$
	</isNotNull>
    limit #startRow#, #endRow#
  </select>
  
  <select id="getOpenDistributionCustomerCount" resultClass="java.lang.Integer"  parameterClass="java.util.Map">
      select count(*) from t_customer c
      where c.customer_id in (
    	select distinct s.customer_id from s_customer_owner_user s)
      <isNotNull property="fname" prepend="and">
	      FFullName like '%$fname$%'
	  </isNotNull>
	  <isNotNull property="fnumber" prepend="and">
	      FNumber like '%$fnumber$%'
	  </isNotNull>
	  <isNotNull property="customerIds" prepend="and">
	      customer_id in $customerIds$
	  </isNotNull>
  </select>
  
  <select id="getCustomerListByFilter" resultMap="abatorgenerated_TCustomerResult" parameterClass="java.util.Map" > 
    select c.FLevel, c.customer_id, c.FName, c.FNumber, c.FParentID, c.FDeleted, c.FDetail, c.FFullName,
      c.FFullNumber, c.FShortNumber, c.FUnUsed, c.FShortName, c.Faddress, c.regionName, c.tradeName, c.FContact,
      c.FPhone, c.FMobilePhone, c.FFax, c.FPostalCode, c.FEmail, c.FBank, c.FAccount, c.FTaxNum, c.FIsCreditMgr,
      c.saleMode, c.FValueAddRate, c.FCity, c.FProvince, c.FCountry, c.FHomePage, c.Fcorperate, c.FCarryingAOS,
      c.customerType, c.SaleTypeName, c.SupplierName, c.currencyName, c.settleName, c.FfavorPolicy,
      c.departmentName, c.employeeName, c.FlastTradeDate, c.FlastTradeAmount, c.FlastReceiveDate,
      c.FendTradeDate, c.FlastRPAmount, c.FmaxDealAmount, c.FminForeReceiveRate, c.FminReserverate,
      c.debtLevelName, FPayCondition, FPayConditionId, linkman_completely
    from t_customer c
    <dynamic prepend="where">
    <isNotNull property="fname" prepend="and">
	    c.FFullName like '%$fname$%'
	</isNotNull>
	<isNotNull property="fnumber" prepend="and">
	    c.FNumber like '%$fnumber$%'
	</isNotNull>
	<isNotNull property="couserName" prepend="and">
	    c.customer_id in (SELECT cu.customer_id FROM s_customer_owner_user cu INNER JOIN s_user usr ON cu.user_id=usr.user_id WHERE usr.user_name LIKE '%$couserName$%')
	</isNotNull>
	<isNotNull property="cuserName" prepend="and">
	    c.customer_id in (SELECT cu.customer_id FROM s_customer_user cu INNER JOIN s_user usr ON cu.user_id=usr.user_id WHERE usr.user_name LIKE '%$cuserName$%')
	</isNotNull>
	<isNotNull property="customerLevel" prepend="and">
	   c.customer_id in (SELECT cl.customer_id from s_customer_level cl where cl.level_id = #customerLevel:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinSalemagagerId" prepend="and">
	   c.customer_id in (select sm.customer_id from s_customer_fin_evaluation sm where sm.eva_salemanager = #evaFinSalemagagerId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinManagerId" prepend="and">
	   c.customer_id in (select fm.customer_id from s_customer_fin_evaluation fm where fm.eva_finmanager = #evaFinManagerId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinGenId" prepend="and">
	   c.customer_id in (select fg.customer_id from s_customer_fin_evaluation fg where fg.eva_salegen = #evaFinGenId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinSalemagagerMark" prepend="and">
	   c.customer_id  not in (select cfe.customer_id from s_customer_fin_evaluation cfe where cfe.eva_salemanager is not null)
	</isNotNull>
	<isNotNull property="evaFinManagerMark" prepend="and">
	   c.customer_id  not in (select sfm.customer_id from s_customer_fin_evaluation sfm where sfm.eva_finmanager is not null)
	</isNotNull>
	<isNotNull property="evaFinGenMark" prepend="and">
	   c.customer_id  not in (select sfg.customer_id from s_customer_fin_evaluation sfg where sfg.eva_salegen is not null)
	</isNotNull>
	<isNotNull property="customerLevelMark" prepend="and">
	   c.customer_id  not in (select scl.customer_id from s_customer_level scl where scl.level_id is not null)
	</isNotNull>
	<isNotNull property="customerIds" prepend="and">
	   c.customer_id in $customerIds$
	</isNotNull>
	<isEqual prepend="AND" property="linkmanWriteStatus" compareValue="0"> 
       c.customer_id  not in (SELECT customer_id FROM s_customer_linkman) 
      </isEqual> 
	<isEqual prepend="AND" property="linkmanWriteStatus" compareValue="1"> 
	   c.customer_id  in (SELECT customer_id FROM s_customer_linkman)
	</isEqual>
	</dynamic>
    limit #startRow#, #endRow#
  </select>
  
  <select id="getCustomerCountByFilter" resultClass="java.lang.Integer"  parameterClass="java.util.Map">
      select count(*) 
          from t_customer c
    <dynamic prepend="where">
    <isNotNull property="fname" prepend="and">
	    c.FFullName like '%$fname$%'
	</isNotNull>
	<isNotNull property="fnumber" prepend="and">
	    c.FNumber like '%$fnumber$%'
	</isNotNull>
	<isNotNull property="couserName" prepend="and">
	    c.customer_id in (SELECT cu.customer_id FROM s_customer_owner_user cu INNER JOIN s_user usr ON cu.user_id=usr.user_id WHERE usr.user_name LIKE '%$couserName$%')
	</isNotNull>
	<isNotNull property="cuserName" prepend="and">
	    c.customer_id in (SELECT cu.customer_id FROM s_customer_user cu INNER JOIN s_user usr ON cu.user_id=usr.user_id WHERE usr.user_name LIKE '%$cuserName$%')
	</isNotNull>
	<isNotNull property="customerLevel" prepend="and">
	   c.customer_id in (SELECT cl.customer_id from s_customer_level cl where cl.level_id = #customerLevel:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinSalemagagerId" prepend="and">
	   c.customer_id in (select sm.customer_id from s_customer_fin_evaluation sm where sm.eva_salemanager = #evaFinSalemagagerId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinManagerId" prepend="and">
	   c.customer_id in (select fm.customer_id from s_customer_fin_evaluation fm where fm.eva_finmanager = #evaFinManagerId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinGenId" prepend="and">
	   c.customer_id in (select fg.customer_id from s_customer_fin_evaluation fg where fg.eva_salegen = #evaFinGenId:INTEGER#)
	</isNotNull>
	<isNotNull property="evaFinSalemagagerMark" prepend="and">
	   c.customer_id  not in (select cfe.customer_id from s_customer_fin_evaluation cfe where cfe.eva_salemanager is not null)
	</isNotNull>
	<isNotNull property="evaFinManagerMark" prepend="and">
	   c.customer_id  not in (select sfm.customer_id from s_customer_fin_evaluation sfm where sfm.eva_finmanager is not null)
	</isNotNull>
	<isNotNull property="evaFinGenMark" prepend="and">
	   c.customer_id  not in (select sfg.customer_id from s_customer_fin_evaluation sfg where sfg.eva_salegen is not null)
	</isNotNull>
	<isNotNull property="customerLevelMark" prepend="and">
	   c.customer_id  not in (select scl.customer_id from s_customer_level scl where scl.level_id is not null)
	</isNotNull>
	<isNotNull property="customerIds" prepend="and">
	   c.customer_id in $customerIds$
	</isNotNull>
	<isEqual prepend="AND" property="linkmanWriteStatus" compareValue="0"> 
       c.customer_id  not in (SELECT customer_id FROM s_customer_linkman) 
      </isEqual> 
	<isEqual prepend="AND" property="linkmanWriteStatus" compareValue="1"> 
	   c.customer_id  in (SELECT customer_id FROM s_customer_linkman)
	</isEqual>
	</dynamic>
  </select>
  
  <!-- 修改客户资料联系人完整度字段 -->
  <update id="updateLinkmanCompletely" parameterClass="java.util.Map">
  	UPDATE	t_customer
  	SET		linkman_completely=#linkmanCompletely:DECIMAL#
  	WHERE	customer_id = #customerId:INTEGER#
  </update>
  
</sqlMap>